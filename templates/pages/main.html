{% extends 'components/base.html' %}
{% load static %}
{% load i18n %}
{% block content %}

{% include 'components/menu.html' %}

    <div class="container text-center h-100 py-3">
        {% include 'components/alertas.html' %}
        <h1>Ol√° {{ user.username }}</h1>
    </div>


    <section  class="container d-flex justify-content-center h-100 ">

        <div class="w-100">
            {% for post in posts %}
            <div class="card my-3">
                <div class="card-header card-header-black">
                    <a href="{% url 'user' post.postador.username %}">{{post.postador}}</a>
                    <a href="{% url 'post' post.id %}"><h2>{{post.titulo}}</h2></a>
                </div>
                <div class="card-body card-body-black text-center">
                    <p>{{post.descricao}}</p>
                    {% if post.audio != "" %}
                        <audio controls>
                            <source src="{{post.audio.url}}" type="audio/mpeg">
                        </audio>   
                    {% endif %}
                    <br><br><br>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <!-- ##### Pagination ##### -->
    <section class="top-catagory-area section-padding-20-0">
        <div class="container text-center">
            <div>
                {% if posts.has_other_pages %}
                    <ul class="pagination">
                        {% if posts.has_previous %}
                            <li class="page-item">
                                <a href="?page={{ posts.previous_page_number }}" class="page-link">&laquo;</a>
                            </li>
                        {% else %}
                            <li class="page-item disabled">
                                <a class="page-link">&laquo;</a>
                            </li>
                        {% endif %}
                        {% for pagina in posts.paginator.page_range %}
                            {% if posts.number == pagina %}
                                <li class="page-item active">
                                    <a class="page-link">{{ pagina }}</a>
                                </li>
                            {% else %}
                                <li class="page-item">
                                    <a href="?page={{pagina}}" class="page-link">{{pagina}}</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                        {% if posts.has_next %}
                            <li class="page-item">
                                <a href="?page={{ receitas.next_page_number }}" class="page-link">&raquo;</a>
                            </li>
                        {% else %}
                            <li class="page-item disabled">
                                <a class="page-link">&raquo;</a>
                            </li>
                        {% endif %}
                    </ul>
                {% endif %}
            </div>
        </div>
    </section>

    {% block script %}
        <script>
            window.onload = logaaws();

            function logaaws(){
                AWS.config.region = 'us-west-1'; // Region
                AWS.config.credentials = new AWS.CognitoIdentityCredentials({
                    IdentityPoolId: 'AKIATXGD6EAEW6SEJD6G',
                });
            }
        </script>
    {% endblock script %}
    <!-- ##### Pagination End ##### -->

{% include 'components/footer.html' %}

{% endblock %}data/2020/10/02/Blood_Runs_Red.mp3